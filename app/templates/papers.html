<!-- app/templates/papers.html -->
{% extends "base.html" %}

{% block title %}Papers{% endblock %}

{% block content %}
    <h2>Manage Papers</h2>
    <form method="POST">
        {{ form.hidden_tag() }}
        <p>
            {{ form.id.label }}<br>
            {{ form.id(size=64) }}
        </p>
        <p>
            {{ form.title.label }}<br>
            {{ form.title(size=64) }}
        </p>
        <p>
            {{ form.source.label }}<br>
            {{ form.source(size=64) }}
        </p>
        <p>
            {{ form.year.label }}<br>
            {{ form.year() }}
        </p>
        <p>
            {{ form.type.label }}<br>
            {{ form.type() }}
        </p>
        <p>
            {{ form.level.label }}<br>
            {{ form.level() }}
        </p>
        <p>{{ form.submit() }}</p>
    </form>
    <h3>Existing Papers</h3>
    <ul>
        {% for paper in papers %}
            <li>
                {{ paper.title }} - {{ paper.source }} - {{ paper.year }}
                <a href="{{ url_for('edit_paper', paper_id=paper.id) }}">Edit</a>
                <form action="{{ url_for('delete_paper', paper_id=paper.id) }}" method="POST" style="display:inline;">
                    <button type="submit" onclick="return confirm('Are you sure?');">Delete</button>
                </form>
            </li>
        {% endfor %}
    </ul>
{% endblock %}
